<ng-container *ngIf="event$|async as event; else loader">
    <div class="container px-md-5">
        <div class="row pt-3">
            <div class="col-12 col-md-8 ">
                <img src="{{event.imageUrl}}" alt="Card image cap"
                    style="width: 100%; height: 400px; object-fit: cover; border-radius: 0.5em;">
            </div>
            <div class="col- col-md-4">
                <div class="row">
                    <div class="header-details">
                        <div>
                            <h3><strong>{{event.name}}</strong></h3>
                            <div class="mt-2"><i class="fa-solid fa-location-dot"></i> <span
                                    class="ms-2">{{event.location}}</span> </div>
                            <!-- <div style="padding-right: 60%; margin-bottom: 1em;">
                                    <star-rating [disabled]="true" [size]="'large'" [rating]="book.rating"></star-rating>
                                </div> -->
                            <div class="mt-2">
                                <i class="fa-solid fa-user"></i>
                                <span class="px-2 ms-2"
                                    style="background-color:#F0ECE5; border-radius: 1rem; ">{{event.organizer.name}}
                                </span>
                            </div>
                            <div class="mt-2">
                                <i class="fa-regular fa-calendar"></i>
                                <span class="ms-2">{{event.dateTime | date}} | {{event.dateTime| timeFormat}}</span>
                            </div>
                            <div *ngIf="!event.isRegistered && !user?.roles?.includes('Organizer')" class="mt-3 d-flex flex-align-row align-item-center justify-content-between">
                                <div>
                                    <p>
                                        <i class="fa-solid fa-wallet"></i>
                                        <span class="price-text ms-2"> â‚¹ 899</span>
                                    </p>
                                </div>
                                <div> <a (click)="registerEvent()" class="bn-button bg-secondary">Register Now </a> </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div *ngIf="event.isRegistered &&  !user?.roles?.includes('Organizer')" class="row">
                    <div class="header-details text-center mt-2">
                        <h3 >Already Registered</h3>
                        <div class="mt-3"> <a (click)="handleCancelRegistration()" class="bn-button">Cancel Registration </a> </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="container col-12 ">
                <hr>
                <h6 style="color: #3685D7;margin-top: 1em;"><strong>About</strong></h6>
                <p>{{event.description}}</p>
            </div>
        </div>
    </div>

</ng-container>

<ng-template #loader>
    <div class="text-center mt-5">
        <div class="spinner-border" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div>
</ng-template>